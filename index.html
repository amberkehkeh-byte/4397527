<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>å®‰è¦ªç­é»åç³»çµ±</title>
  <style>
    body { font-family: "Microsoft JhengHei", sans-serif; margin: 20px; }
    h1 { text-align: center; }
    .summary { font-size: 16px; font-weight: bold; margin: 15px 0; text-align: center; }
    .class-section { margin-bottom: 40px; }
    .students { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 10px; }
    .student {
      padding: 8px 12px;
      border: 1px solid #ccc;
      border-radius: 6px;
      cursor: pointer;
      user-select: none;
    }
    .present { background-color: #c8f7c5; }   /* åˆ°èª² */
    .sick { background-color: #f8c5c5; color: red; } /* ç—…å‡ */
    .absent { background-color: #c5d8f8; color: blue; } /* å›ºå®šä¸åˆ° */
    .stats { font-size: 14px; margin-top: 5px; }
  </style>
</head>
<body>
  <h1>å®‰è¦ªç­é»åç³»çµ±</h1>

  <div class="summary" id="summary">çµ±è¨ˆæ›´æ–°ä¸­...</div>
  <div id="classes"></div>

  <script>
    const classLists = {
      "Aç­#14": [
        "202é‚±æš„çŸ","202å‘¨æ°¸å“²(å›ºå®šä¸€å››ä¸åˆ°)","205æç•‡å¸Œ","205é‚±è‹¡ç¦","207èŠç‘€æ¾¤",
        "209å»–å¨ç››","210æˆ´äº‘å®‰","601æ²ˆå¯è‹¥","604å‘¨æ¯“ç‘­(å›ºå®šä¸€äºŒå››ä¸åˆ°)","606é»ƒæ¢“æ¶µ",
        "608é™³è‹¡è‡»","608ç°¡å¿ƒæ©(å›ºå®šäºŒäº”ä¸åˆ°)","608å‡Œç¿Šå˜‰","609å¼µæ˜Šåº­","609æ›¾ç¦¹å¯§",
        "206å³è‚²å¹¸","205é™³å¦ç†™"
      ],
      "Bç­#15": [
        "201æ—ä¿Šæ›¦","201å‘‚å¦ç§¦","206é‚µå»·æ©","206å¼µæŸä¸­","502å³èŠŠç§€","502ç¾…ç¨Ÿä¾–",
        "503å½­æ¦®é ¡","503åŠ‰å®‡å³°","503æ²ˆé¾é–±","505æ›¹é›¨æ©(å›ºå®šå››ä¸åˆ°)","505ç™½è‹¥å¦",
        "506æ¥Šå²³åº­","507ç›§äº®å®‡","507æ—å¦å‡","507é„­éˆ¦é§¿","508é™³è‹¡å¯§","508ä¸‹ä½¾æ™","508è¶™èŠ¸ç”¯"
      ],
      "CL3": [
        "101å¾äºå–¬","103å‘¨æ‰¿é£›","105åŠ‰å®‡å®¸","106é™³éƒç’‡","107ç¾…è©°æ¸","109éƒ­æ±æ—­",
        "110æ¥Šæ°ç‰ç‘„","301ç›§è–‡å®‰(å›ºå®šäºŒå››ä¸åˆ°)","302ä¾¯å‡±é¦¨","302ç°¡å½¥ç¶¸","305ç¾…ç¿”é–",
        "305é™³ç«‹ç¾¤","306æ¶‚æ©é ¤","307å³å®‡å‹›","307è¶™èŠ¸æ­†","308å‘‚èŠ·èŠ¸","309èŠç‘€æŸ”",
        "310æ—å­æ«°","310é»ƒæ™¨æ©","é»ƒèŠ·å¦¤"
      ],
      "Dç­": [
        "402è¶™å®¥æ£®","404é»ƒæ¢“ç‰","405å³æ·»æ£®","405åŠ‰å®‡å³»","406å§œå­£çŠ","406è”¡é¦¥è”“",
        "407æ¥Šç•‡åº­","407é‚±ä¸é§¿","407ç‹é¦¨é€¸","407æ¶‚æ©æ„·","409å‘¨æ½”å„€"
      ]
    };

    const container = document.getElementById("classes");
    const summaryDiv = document.getElementById("summary");

    function updateStats(section) {
      const students = section.querySelectorAll(".student");
      let present = 0, sick = 0, absent = 0;
      students.forEach(div => {
        if (div.classList.contains("present")) present++;
        else if (div.classList.contains("sick")) sick++;
        else if (div.classList.contains("absent")) absent++;
      });
      const total = students.length;
      section.querySelector(".stats").innerText =
        `âœ… åˆ°èª²: ${present}ã€€ğŸ¤’ ç—…å‡: ${sick}ã€€ğŸš« å›ºå®šä¸åˆ°: ${absent}ã€€ğŸ‘¥ ç¸½äººæ•¸: ${total}`;
    }

    function updateSummary() {
      const allStudents = document.querySelectorAll(".student");
      let present = 0, sick = 0, absent = 0;
      allStudents.forEach(div => {
        if (div.classList.contains("present")) present++;
        else if (div.classList.contains("sick")) sick++;
        else if (div.classList.contains("absent")) absent++;
      });
      const total = allStudents.length;
      summaryDiv.innerText =
        `ğŸ“Š å…¨æ ¡ç¸½çµ±è¨ˆ â†’ âœ… åˆ°èª²: ${present}ã€€ğŸ¤’ ç—…å‡: ${sick}ã€€ğŸš« å›ºå®šä¸åˆ°: ${absent}ã€€ğŸ‘¥ ç¸½äººæ•¸: ${total}`;
    }

    Object.entries(classLists).forEach(([className, students]) => {
      const section = document.createElement("div");
      section.className = "class-section";
      section.innerHTML = `<h2>${className}</h2>`;

      const studentDiv = document.createElement("div");
      studentDiv.className = "students";

      students.forEach(name => {
        const div = document.createElement("div");
        div.className = "student";
        div.innerText = name;

        // é»æ“Šåˆ‡æ›ç‹€æ…‹
        div.addEventListener("click", () => {
          if (div.classList.contains("present")) {
            div.classList.remove("present");
            div.classList.add("sick");
          } else if (div.classList.contains("sick")) {
            div.classList.remove("sick");
            div.classList.add("absent");
          } else if (div.classList.contains("absent")) {
            div.classList.remove("absent");
          } else {
            div.classList.add("present");
          }
          updateStats(section);
          updateSummary();
        });

        studentDiv.appendChild(div);
      });

      section.appendChild(studentDiv);

      const statsDiv = document.createElement("div");
      statsDiv.className = "stats";
      section.appendChild(statsDiv);

      container.appendChild(section);
      updateStats(section);
    });

    updateSummary();
  </script>
</body>
</html>