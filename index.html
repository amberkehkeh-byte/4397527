<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>安親班點名系統</title>
  <style>
    body {
      font-family: "Microsoft JhengHei", sans-serif;
      background-color: #f9f9f9;
      margin: 0;
      padding: 10px;
      font-size: 18px;
    }
    h1 {
      text-align: center;
      font-size: 24px;
      margin-bottom: 20px;
    }
    .class-section {
      margin-bottom: 30px;
      background: white;
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .class-section h2 {
      font-size: 22px;
      margin-bottom: 10px;
    }
    .student {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin: 10px 0;
      font-size: 18px;
    }
    .student label {
      flex: 1;
    }
    .student button {
      font-size: 20px;
      padding: 10px 16px;
      margin-left: 8px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
    }
    .present { background-color: #4CAF50; color: white; }
    .absent { background-color: #FF5252; color: white; }
    .fixed { background-color: #2196F3; color: white; }
    .status {
      margin-left: 10px;
      font-weight: bold;
      font-size: 18px;
    }
  </style>
</head>
<body>
  <h1>安親班點名系統</h1>

  <div id="classes"></div>

  <script>
    const classes = {
      "A班#14": [
        "202邱暄玟","202周永哲(固定一四不到)","205李畇希","205邱苡禎","207莊瑀澤",
        "209廖威盛","210戴云安","601沈可若","604周毓瑭(固定一二四不到)","606黃梓涵",
        "608陳苡臻","608簡心恩(固定二五不到)","608凌翊嘉","609張昊庭","609曾禹寧",
        "206吳育幸","205陳妍熙"
      ],
      "B班#15": [
        "201林俊曦","201呂妍秦","206邵廷恩","206張柏中","502吳芊秀","502羅稟侖",
        "503彭榮頡","503劉宇峰","503沈鍾閱","505曹雨恩(固定四不到)","505白若妍",
        "506楊岳庭","507盧亮宇","507林妍均","507鄭鈦駿","508陳苡寧","508下佾晞","508趙芸甯"
      ],
      "CL3": [
        "101徐于喬","103周承飛","105劉宇宸","106陳郁璇","107羅詰渝","109郭東旭",
        "110楊氏玉瑄","301盧薇安(固定二四不到)","302侯凱馨","302簡彥綸","305羅翔靖",
        "305陳立群","306涂恩頤","307吳宇勛","307趙芸歆","308呂芷芸","309莊瑀柔",
        "310林子櫰","310黃晨恩"
      ],
      "D班": [
        "402趙宥森","404黃梓玉","405吳添森","405劉宇峻","406姜季珊","406蔡馥蔓",
        "407楊畇庭","407邱丞駿","407王馨逸","407涂恩愷","409周潔儀"
      ]
    };

    function render() {
      const container = document.getElementById("classes");
      container.innerHTML = "";
      for (const [cls, students] of Object.entries(classes)) {
        const section = document.createElement("div");
        section.className = "class-section";
        section.innerHTML = `<h2>${cls}</h2>`;
        
        students.forEach(name => {
          const studentDiv = document.createElement("div");
          studentDiv.className = "student";
          studentDiv.innerHTML = `
            <label>${name}</label>
            <div>
              <button class="present" onclick="mark(this,'到')">到</button>
              <button class="absent" onclick="mark(this,'病假')">病假</button>
              <button class="fixed" onclick="mark(this,'固定不到')">固定不到</button>
              <span class="status"></span>
            </div>
          `;
          section.appendChild(studentDiv);
        });
        container.appendChild(section);
      }
    }

    function mark(btn, status) {
      const statusSpan = btn.parentElement.querySelector(".status");
      statusSpan.textContent = status;
      if (status === "病假") {
        statusSpan.style.color = "red";
      } else if (status === "固定不到") {
        statusSpan.style.color = "blue";
      } else {
        statusSpan.style.color = "green";
      }
    }

    render();
  </script>
</body>
</html>

      section.innerHTML = `<h2>${className}</h2>`;

      const studentDiv = document.createElement("div");
      studentDiv.className = "students";

      students.forEach(name => {
        const div = document.createElement("div");
        div.className = "student";
        div.innerText = name;

        // 點擊切換狀態
        div.addEventListener("click", () => {
          if (div.classList.contains("present")) {
            div.classList.remove("present");
            div.classList.add("sick");
          } else if (div.classList.contains("sick")) {
            div.classList.remove("sick");
            div.classList.add("absent");
          } else if (div.classList.contains("absent")) {
            div.classList.remove("absent");
          } else {
            div.classList.add("present");
          }
          updateStats(section);
          updateSummary();
        });

        studentDiv.appendChild(div);
      });

      section.appendChild(studentDiv);

      const statsDiv = document.createElement("div");
      statsDiv.className = "stats";
      section.appendChild(statsDiv);

      container.appendChild(section);
      updateStats(section);
    });

    updateSummary();
  </script>
</body>
</html>
